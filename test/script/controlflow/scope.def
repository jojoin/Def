;-
    嵌套子作用域，名字空间
-;


;;;;;;;;;;;;;;;;;  匿名嵌套名字空间  ;;;;;;;;;;;;;;;;;

scope (

    var x 97

    putchar x

    ;; 嵌套作用域
    scope (
        putchar x
        var x add x 1
        var y add x 1
        putchar x
        putchar y

        ;; 嵌套作用域
        scope (
            putchar y
            var y add y 1
            var z add y 1
            putchar y
            putchar z
        )

        putchar y
        ; z 不可见
        ; putchar z

    )

    putchar x
    ; y 不可见
    ; putchar y

)


;;;;;;;;;;;;;;;;;;;;  使用名字空间  ;;;;;;;;;;;;;;;;;;;


;; 具名名字空间

scope X (
    var num 97
)
scope Y (
    var num 98
)

;; 使用名字空间 X

scope A (

    uscp X  ; 声明使用名字空间

    putchar num ; 使用
    set num 100 ; 赋值

    var num add num 1 ; 覆盖
    putchar num

)

;; 使用名字空间 Y

scope B (
    uscp Y 
    putchar num
)



;;;;;;;;;;;;;;;;;;;;  函数内部子作用域  ;;;;;;;;;;;;;;;;;;;



;; 函数内部子作用域

fun childScope()(
    var x 111
    scope (
        putchar x
        var x add x 1
        putchar x
        var y add x 1
        putchar y
    )
    putchar x
    ; y 不可见
    ; putchar y

    ;; y 可重定义
    var y add x 1
    putchar y
)


;; 执行

childScope




